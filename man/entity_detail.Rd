% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/entity_detail.R
\name{entity_detail}
\alias{entity_detail}
\title{Show details of one Entity.}
\usage{
entity_detail(
  pid = get_default_pid(),
  did = NULL,
  eid = NULL,
  url = get_default_url(),
  un = get_default_un(),
  pw = get_default_pw(),
  retries = get_retries(),
  odkc_version = get_default_odkc_version(),
  orders = c("YmdHMS", "YmdHMSz", "Ymd HMS", "Ymd HMSz", "Ymd", "ymd"),
  tz = get_default_tz()
)
}
\arguments{
\item{pid}{The numeric ID of the project, e.g.: 2.

Default: \code{\link{get_default_pid}}.

Set default \code{pid} through \code{ru_setup(pid="...")}.

See \code{vignette("Setup", package = "ruODK")}.}

\item{did}{(chr) The name of the Entity List, internally called Dataset.}

\item{eid}{(chr) The UUID of an Entity, which can be retrieved by
\code{entity_list()}.}

\item{url}{The ODK Central base URL without trailing slash.

Default: \code{\link{get_default_url}}.

Set default \code{url} through \code{ru_setup(url="...")}.

See \code{vignette("Setup", package = "ruODK")}.}

\item{un}{The ODK Central username (an email address).
Default: \code{\link{get_default_un}}.
Set default \code{un} through \code{ru_setup(un="...")}.
See \code{vignette("Setup", package = "ruODK")}.}

\item{pw}{The ODK Central password.
Default: \code{\link{get_default_pw}}.
Set default \code{pw} through \code{ru_setup(pw="...")}.
See \code{vignette("Setup", package = "ruODK")}.}

\item{retries}{The number of attempts to retrieve a web resource.

This parameter is given to \code{\link[httr]{RETRY}(times = retries)}.

Default: 3.}

\item{odkc_version}{The ODK Central version as a semantic version string
(year.minor.patch), e.g. "2023.5.1". The version is shown on ODK Central's
version page \verb{/version.txt}. Discard the "v".
\code{ruODK} uses this parameter to adjust for breaking changes in ODK Central.

Default: \code{\link{get_default_odkc_version}} or "2023.5.1" if unset.

Set default \code{get_default_odkc_version} through
\code{ru_setup(odkc_version="2023.5.1")}.

See \code{vignette("Setup", package = "ruODK")}.}

\item{orders}{(vector of character) Orders of datetime elements for
lubridate.

Default:
\code{c("YmdHMS", "YmdHMSz", "Ymd HMS", "Ymd HMSz", "Ymd", "ymd")}.}

\item{tz}{A timezone to convert dates and times to.

Read \code{vignette("setup", package = "ruODK")} to learn how \code{ruODK}'s
timezone can be set globally or per function.}
}
\value{
A tibble with exactly one row for each Entity of the given project
as per ODK Central API docs.
Column names are renamed from ODK's \code{camelCase} to \code{snake_case}.
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#maturing}{\figure{lifecycle-maturing.svg}{options: alt='[Maturing]'}}}{\strong{[Maturing]}}
}
\details{
This function returns the metadata and current data of an Entity.

The data and label of an Entity are found in the \code{current_version} columns
under data and label respectively.
The \code{current_version} column contains version-specific metadata fields
such as version, baseVersion, details about conflicts that version
introduced, etc. More details are available from \code{entity_versions()}.
The Entity also contains top-level system metadata such as \code{uuid},
\code{created_at} and \code{updated_at} timestamps, and \code{creator_id} (or full creator
if extended metadata is requested).
\subsection{Conflicts}{

An Entity's metadata also has a conflict field, which indicates the current
conflict status of the Entity. The value of a conflict can either be:
\itemize{
\item null. The Entity does not have conflicting versions.
\item soft. The Entity has a version that was based on a version other than the
version immediately prior to it. (The specified \code{base_version} was not the
latest version on the server.)
\item hard. The Entity has a version that was based on a version other than the
version immediately prior to it. Further, that version updated the same
property as another update.
}

If an Entity has a conflict, it can be marked as resolved.
After that, the conflict field will be null until a new conflicting version
is received.
}

\subsection{Structure}{

The response from ODK Central from this endpoint is irregular and dynamic.
\code{ruODK} preserves the original structure as not to introduce additional
complexity. If a use case exists to decompose the original structure further
please create a GitHub issue.
}

\subsection{Names}{

Names are cleaned at the top level only. List columns contain original
\code{camelCase} names.
}

\subsection{Authentication}{

\code{entity_detail()} will fail with incorrect or missing authentication.
}

\subsection{Compatibility}{

This function is supported from ODK Central v2022.3 and will warn if the
given \code{odkc_version} is lower.
}
}
\examples{
\dontrun{
# See vignette("setup") for setup and authentication options
# ruODK::ru_setup(svc = "....svc", un = "me@email.com", pw = "...")

el <- entitylist_list()

# Entity List name (dataset ID, did)
did <- el$name[1]

# All Entities of Entity List
en <- entity_list(did = did)

ed <- entity_detail(did = did, eid = en$uuid[1])

# The current version of the first Entity
ev <- en$current_version_version[1]
}
}
\seealso{
\url{https://docs.getodk.org/central-api-entity-management/#entities-metadata}

Other entity-management: 
\code{\link{entity_list}()},
\code{\link{entitylist_detail}()},
\code{\link{entitylist_download}()},
\code{\link{entitylist_list}()}
}
\concept{entity-management}
